<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RemedySense - Interactive Project Showcase</title>
    <!-- Chosen Palette: Natural Harmony -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .ingredient-card {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            min-height: 90px; /* Ensure cards have enough space for name and tags */
        }
        .ingredient-card.hidden {
            opacity: 0;
            transform: scale(0.9);
            display: none;
        }
        .gradient-text {
            background-image: linear-gradient(to right, #10b981, #059669);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom styles for the responsive flowchart cards */
        .flow-step-card {
            @apply p-6 rounded-xl shadow-lg border-t-4 border-brand-green transition duration-300 hover:shadow-xl text-center h-full; /* h-full ensures consistent height if needed */
        }
        .flow-arrow-mobile {
            @apply flex justify-center py-4 text-brand-green-dark;
        }
        .flow-arrow-desktop {
            @apply text-4xl text-brand-green-dark flex items-center justify-center;
        }

        /* Scroll-Reveal Animation Styles */
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-up.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-green': '#10b981',
                        'brand-green-dark': '#059669',
                        'brand-bg': '#fdfbf7',
                        'brand-text': '#334155',
                        'brand-subtle': '#f1f5f9',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-brand-bg font-sans text-brand-text antialiased">

    <!-- Header & Navigation -->
    <nav id="navbar" class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-brand-green-dark">ðŸŒ¿ RemedySense</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#about" class="nav-link text-gray-500 hover:text-brand-green px-3 py-2 rounded-md text-sm font-medium">About</a>
                        <a href="#dashboard" class="nav-link text-gray-500 hover:text-brand-green px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                        <a href="#featured-remedies" class="nav-link text-gray-500 hover:text-brand-green px-3 py-2 rounded-md text-sm font-medium">Featured Remedies</a>
                        <a href="#screenshots" class="nav-link text-gray-500 hover:text-brand-green px-3 py-2 rounded-md text-sm font-medium">System Walkthrough</a>
                        <a href="https://github.com/alainaasyed/RemedySense" target="_blank" class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-full text-sm font-medium">View on GitHub</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <!-- Hero Section - Immediate visibility, no fade-in-up class applied -->
        <section id="hero-section" class="text-center py-20 px-4 sm:px-6 lg:px-8">
            <div class="max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl font-bold text-brand-green-dark tracking-tight">Powered by RemedySense.</h1>
                <p class="mt-6 text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">RemedySense is a smart recommender system that moves beyond generic advice, offering natural, effective remedies tailored to your unique skin profile.</p>
                <div class="mt-8 flex justify-center gap-4">
                    <!-- Note: Linked to the existing report file for context -->
                    <a href="RemedySense_report.html" target="_blank" class="bg-brand-green hover:bg-brand-green-dark text-white font-bold py-3 px-8 rounded-full transition duration-300 shadow-lg">View Full Report</a>
                    <a href="#dashboard" class="bg-white hover:bg-slate-100 text-brand-green-dark font-bold py-3 px-8 rounded-full transition duration-300 shadow-lg border border-slate-200">Explore Dashboard</a>
                </div>
            </div>
        </section>

        <!-- About Section (Scroll-Reveal Target) -->
        <section id="about" class="py-16 bg-white fade-in-up">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-brand-text">The Personalized Recommendation Flow</h2>
                    <p class="mt-4 text-lg text-slate-500">How RemedySense analyzes your skin profile and recommends the most effective natural remedies.</p>
                </div>
                
                <!-- Desktop Flowchart -->
                <div class="hidden md:grid md:grid-cols-[1fr_50px_1fr_50px_1fr] items-stretch gap-4 max-w-5xl mx-auto">
                    
                    <!-- Step 1: Input -->
                    <div class="flow-step-card bg-brand-subtle">
                        <div class="text-4xl mb-3 font-extrabold text-brand-green-dark">1</div>
                        <h3 class="text-xl font-semibold mb-2 text-brand-text">INPUT: Define Profile</h3>
                        <p class="text-slate-600 text-sm">The user submits their Skin Type, Age, and Specific Concern to the system.</p>
                    </div>

                    <!-- Arrow 1 -->
                    <div class="flow-arrow-desktop">â†’</div>

                    <!-- Step 2: Process -->
                    <div class="flow-step-card bg-white">
                        <div class="text-4xl mb-3 font-extrabold text-brand-green-dark">2</div>
                        <h3 class="text-xl font-semibold mb-2 text-brand-text">PROCESS: Predict Properties</h3>
                        <p class="text-slate-600 text-sm">A Decision Tree Model analyzes the data and predicts the required therapeutic properties: Anti-inflammatory and Antioxidant levels.</p>
                    </div>

                    <!-- Arrow 2 -->
                    <div class="flow-arrow-desktop">â†’</div>

                    
                    <!-- Step 3: Output -->
                    <div class="flow-step-card bg-brand-subtle">
                        <div class="text-4xl mb-3 font-extrabold text-brand-green-dark">3</div>
                        <h3 class="text-xl font-semibold mb-2 text-brand-text">OUTPUT: Generate Remedy</h3>
                        <p class="text-slate-600 text-sm">The system matches the required properties to its ingredient database and delivers a Tailored Remedy with full instructions.</p>
                    </div>
                </div>
                
                <!-- Mobile Flowchart -->
                <div class="md:hidden space-y-4 max-w-sm mx-auto">
                    
                    <!-- Step 1 (Mobile) -->
                    <div class="flow-step-card bg-brand-subtle">
                        <div class="text-4xl mb-3 font-extrabold text-brand-green-dark">1</div>
                        <h3 class="text-xl font-semibold mb-2 text-brand-text">INPUT: Define Profile</h3>
                        <p class="text-slate-600 text-sm">The user submits their Skin Type, Age, and Specific Concern to the system.</p>
                    </div>
                    
                    <!-- Arrow 1 (Mobile) -->
                    <div class="flow-arrow-mobile text-4xl">â†“</div>

                    <!-- Step 2 (Mobile) -->
                    <div class="flow-step-card bg-white">
                        <div class="text-4xl mb-3 font-extrabold text-brand-green-dark">2</div>
                        <h3 class="text-xl font-semibold mb-2 text-brand-text">PROCESS: Predict Properties</h3>
                        <p class="text-slate-600 text-sm">A Decision Tree Model analyzes the data and predicts the required therapeutic properties: Anti-inflammatory and Antioxidant levels.</p>
                    </div>

                    <!-- Arrow 2 (Mobile) -->
                    <div class="flow-arrow-mobile text-4xl">â†“</div>

                    <!-- Step 3 (Mobile) -->
                    <div class="flow-step-card bg-brand-subtle">
                        <div class="text-4xl mb-3 font-extrabold text-brand-green-dark">3</div>
                        <h3 class="text-xl font-semibold mb-2 text-brand-text">OUTPUT: Generate Remedy</h3>
                        <p class="text-slate-600 text-sm">The system matches the required properties to its ingredient database and delivers a Tailored Remedy with full instructions.</p>
                    </div>
                </div>
                <!-- End Flowchart Diagram -->
            </div>
        </section>

        <!-- Interactive Dashboard (Scroll-Reveal Target) -->
        <section id="dashboard" class="py-20 bg-brand-subtle fade-in-up">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-brand-text">Interactive Dashboard</h2>
                    <p class="mt-4 text-lg text-slate-500">Explore the data that powers RemedySense. See the common issues we address and filter through our database of powerful, natural ingredients.</p>
                </div>
                <div class="grid lg:grid-cols-5 gap-8">
                    <!-- Chart -->
                    <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-center mb-4">Common Skin Concerns</h3>
                        <div class="chart-container">
                            <canvas id="skinConcernsChart"></canvas>
                        </div>
                         <p class="text-xs text-slate-400 text-center mt-4">This chart shows a sample distribution of common skin issues reported by users, highlighting the areas where RemedySense provides the most guidance.</p>
                    </div>
                    <!-- Ingredient Explorer -->
                    <div class="lg:col-span-3 bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-center mb-4">Natural Ingredient Explorer</h3>
                        <div id="ingredient-filters" class="flex flex-wrap justify-center gap-2 mb-6">
                            <button data-filter="all" class="filter-btn bg-brand-green text-white px-4 py-1.5 rounded-full text-sm">All</button>
                            <button data-filter="anti-inflammatory" class="filter-btn bg-slate-200 text-slate-700 px-4 py-1.5 rounded-full text-sm">Anti-inflammatory</button>
                            <button data-filter="antioxidant" class="filter-btn bg-slate-200 text-slate-700 px-4 py-1.5 rounded-full text-sm">Antioxidant</button>
                            <button data-filter="moisturizing" class="filter-btn bg-slate-200 text-slate-700 px-4 py-1.5 rounded-full text-sm">Moisturizing</button>
                        </div>
                        <div id="ingredient-grid" class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                            <!-- JS will populate this -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Static Featured Remedies Section (Scroll-Reveal Target) -->
        <section id="featured-remedies" class="py-20 bg-white fade-in-up">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-brand-text gradient-text">ðŸŒ¿ Featured Remedies for Common Issues</h2>
                    <p class="mt-4 text-lg text-slate-500">Since the AI creator is unavailable, explore our expertly curated remedies for the most frequent skin concerns, based on the predictive model's output.</p>
                </div>

                <div class="bg-brand-subtle p-6 rounded-xl shadow-lg">
                    <!-- Issue Selector -->
                    <div class="space-y-4">
                        <div class="mb-6 p-4 bg-white rounded-lg border border-slate-200">
                            <h4 class="font-bold text-lg mb-2 text-brand-green-dark">Quick Issue Identifier (8 Common Issues):</h4>
                            <ul class="text-sm text-slate-600 space-y-1 list-disc list-inside ml-4 grid sm:grid-cols-2">
                                <li>Acne & Blemishes: Clogged pores, inflammation, breakouts.</li>
                                <li>Dryness & Dehydration: Tightness, flakiness, rough texture.</li>
                                <li>Redness & Irritation: Visible flushing, irritation, sensitivity.</li>
                                <li>Oily Skin & Pores: Shiny T-zone, excess oil, enlarged pores.</li>
                                <li>Dark Spots: Patches of darkened skin, post-acne marks, sun spots.</li>
                                <li>Fine Lines & Wrinkles: Creases, loss of firmness, dullness.</li>
                                <li>Eczema & Itch: Extremely dry, scaly, intensely itchy patches.</li>
                                <li>Sunburn Relief: Acute redness, pain, and heat from sun exposure.</li>
                            </ul>
                        </div>
                        
                        <div>
                            <label for="issueSelector" class="block text-sm font-medium text-slate-700 mb-1">Select the Skin Issue:</label>
                            <select id="issueSelector" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-brand-green focus:border-brand-green">
                                <option value="select" disabled selected>-- Select an issue to view its remedy --</option>
                                <option value="acne">Acne & Blemishes</option>
                                <option value="dryness">Dryness & Dehydration</option>
                                <option value="redness">Redness & Irritation</option>
                                <option value="oily">Oily Skin & Enlarged Pores</option>
                                <option value="darkspots">Dark Spots & Hyperpigmentation</option>
                                <option value="lines">Fine Lines & Wrinkles</option>
                                <option value="eczema">Eczema & Itchy Patches</option>
                                <option value="sunburn">Sunburn & Redness Relief</option>
                            </select>
                        </div>
                        
                        <button type="button" id="show-remedy-btn" class="w-full bg-brand-green hover:bg-brand-green-dark text-white font-bold py-3 rounded-full transition duration-300 flex items-center justify-center">
                            View Expert Remedy
                        </button>
                    </div>

                    <!-- Remedy Results Section (Updated to include Image) -->
                    <div id="remedy-results" class="mt-8 p-6 bg-white rounded-lg shadow-xl border-t-4 border-brand-green hidden">
                        <div class="grid md:grid-cols-3 gap-6">
                            <!-- Image Column -->
                            <div class="md:col-span-1 flex justify-center items-start p-2">
                                <img id="result-image" src="" alt="Visual representation of the selected skin issue" 
                                     class="w-full max-w-xs md:max-w-none h-auto aspect-square object-cover rounded-lg shadow-xl border-4 border-brand-green/20 transition-all duration-500 transform scale-100 hover:scale-[1.02]">
                            </div>
                            
                            <!-- Text Content Column -->
                            <div class="md:col-span-2 space-y-4">
                                <h3 class="text-2xl font-bold mb-2 text-brand-green-dark" id="result-name"></h3>

                                <div>
                                    <h4 class="font-semibold text-lg text-brand-text">Issue Description:</h4>
                                    <p class="text-slate-600" id="result-issue-description"></p>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-lg text-brand-text">Remedy Description:</h4>
                                    <p class="text-slate-600" id="result-description"></p>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-lg text-brand-text">Key Ingredients:</h4>
                                    <ul class="list-disc list-inside text-slate-600 ml-4" id="result-ingredients"></ul>
                                </div>
                                 <div>
                                    <h4 class="font-semibold text-lg text-brand-text">Instructions:</h4>
                                    <p class="text-slate-600" id="result-instructions"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Remedy Results Section -->
                    
                    <div id="error-message" class="mt-4 p-3 bg-red-100 text-red-700 rounded-lg hidden"></div>
                </div>
            </div>
        </section>

        <!-- Screenshots Section (Scroll-Reveal Target) -->
        <section id="screenshots" class="py-20 bg-brand-subtle fade-in-up">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-brand-text">Application in Action</h2>
                    <p class="mt-4 text-lg text-slate-500">A visual walkthrough of the RemedySense user experience, from input to recommendation.</p>
                </div>
                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-slate-100 rounded-lg shadow-md overflow-hidden">
                        <!-- Placeholder 1: Input Screen -->
                        <img src="https://placehold.co/600x400/10b981/FFFFFF?text=1.+INPUT+SKIN+PROFILE%0A%0A%E2%9D%96+Type+%7C+Age+%7C+Concern" alt="User Input Screen" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-semibold">1. User Input Interface</h3>
                            <p class="text-sm text-slate-500 mt-2">Clean and simple forms allow users to quickly build their skin profile.</p>
                        </div>
                    </div>
                    <div class="bg-slate-100 rounded-lg shadow-md overflow-hidden">
                        <!-- Placeholder 2: Results Screen -->
                        <img src="https://placehold.co/600x400/059669/FFFFFF?text=2.+MODEL+PREDICTS%0A%0A%E2%9D%96+Properties+%26+Top+Ingredients" alt="Results Screen" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-semibold">2. Recommendation Results</h3>
                            <p class="text-sm text-slate-500 mt-2">A clear, ranked list of suggested remedies based on the user's profile.</p>
                        </div>
                    </div>
                    <div class="bg-slate-100 rounded-lg shadow-md overflow-hidden">
                        <!-- Placeholder 3: Details Screen -->
                        <img src="https://placehold.co/600x400/34d399/FFFFFF?text=3.+REMEDY+DELIVERED%0A%0A%E2%9D%96+Instructions+%26+Benefits" alt="Details Screen" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-semibold">3. Detailed Remedy Information</h3>
                            <p class="text-sm text-slate-500 mt-2">Each recommendation includes benefits, ingredients, and step-by-step instructions.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <!-- Footer -->
    <footer class="bg-slate-800 text-white">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2025 RemedySense Project. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Chart.js Doughnut Chart ---
            const skinConcernsData = {
                labels: [
                    'Acne & Blemishes (30%)',
                    'Dryness & Dehydration (20%)',
                    'Redness & Irritation (15%)',
                    'Oily Skin & Pores (12%)',
                    'Dark Spots (10%)',
                    'Fine Lines & Wrinkles (7%)',
                    'Eczema & Itch (4%)',
                    'Sunburn Relief (2%)'
                ],
                datasets: [{
                    label: 'Distribution of Concerns',
                    // Data must sum to 100 for a doughnut chart
                    data: [30, 20, 15, 12, 10, 7, 4, 2],
                    backgroundColor: [
                        '#059669', // Dark Green
                        '#10b981', // Brand Green
                        '#34d399', 
                        '#6ee7b7',
                        '#a7f3d0',
                        '#d1fae5',
                        '#99f6e4', // Light Cyan
                        '#2dd4bf' // Cyan
                    ],
                    borderColor: '#f1f5f9',
                    borderWidth: 3,
                    hoverOffset: 8
                }]
            };

            const skinConcernsConfig = {
                type: 'doughnut',
                data: skinConcernsData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                font: { size: 12 },
                                boxWidth: 12,
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    // Tooltip shows the label as defined in the data array (e.g., "Acne & Blemishes (30%)")
                                    return context.label;
                                }
                            }
                        }
                    },
                    cutout: '60%',
                }
            };
            
            const skinConcernsChartCtx = document.getElementById('skinConcernsChart')?.getContext('2d');
            if (skinConcernsChartCtx) {
                new Chart(skinConcernsChartCtx, skinConcernsConfig);
            }

            // --- Ingredient Explorer ---
            const ingredients = [
                { name: 'Turmeric', tags: ['anti-inflammatory', 'antioxidant'], color: 'bg-yellow-100', textColor: 'text-yellow-800' },
                { name: 'Aloe Vera', tags: ['moisturizing', 'anti-inflammatory'], color: 'bg-green-100', textColor: 'text-green-800' },
                { name: 'Tea Tree Oil', tags: ['anti-inflammatory'], color: 'bg-teal-100', textColor: 'text-teal-800' },
                { name: 'Green Tea', tags: ['antioxidant'], color: 'bg-lime-100', textColor: 'text-lime-800' },
                { name: 'Honey', tags: ['moisturizing', 'anti-inflammatory'], color: 'bg-amber-100', textColor: 'text-amber-800' },
                { name: 'Oatmeal', tags: ['moisturizing'], color: 'bg-orange-100', textColor: 'text-orange-800' },
                { name: 'Rosehip Oil', tags: ['antioxidant', 'moisturizing'], color: 'bg-rose-100', textColor: 'text-rose-800' },
                { name: 'Chamomile', tags: ['anti-inflammatory'], color: 'bg-stone-100', textColor: 'text-stone-800' },
                { name: 'Vitamin C', tags: ['antioxidant'], color: 'bg-orange-200', textColor: 'text-orange-900' },
                // --- New Ingredients Added ---
                { name: 'Shea Butter', tags: ['moisturizing'], color: 'bg-purple-100', textColor: 'text-purple-800' },
                { name: 'Jojoba Oil', tags: ['moisturizing'], color: 'bg-indigo-100', textColor: 'text-indigo-800' },
                { name: 'Witch Hazel', tags: ['anti-inflammatory'], color: 'bg-fuchsia-100', textColor: 'text-fuchsia-800' },
                { name: 'Licorice Root', tags: ['antioxidant', 'anti-inflammatory'], color: 'bg-pink-100', textColor: 'text-pink-800' },
                { name: 'Calendula', tags: ['anti-inflammatory'], color: 'bg-red-100', textColor: 'text-red-800' },
                { name: 'Pomegranate', tags: ['antioxidant'], color: 'bg-red-200', textColor: 'text-red-900' },
                { name: 'Squalane', tags: ['moisturizing'], color: 'bg-sky-100', textColor: 'text-sky-800' },
                { name: 'Niacinamide', tags: ['anti-inflammatory'], color: 'bg-blue-100', textColor: 'text-blue-800' },
                { name: 'Kaolin Clay', tags: ['anti-inflammatory'], color: 'bg-gray-100', textColor: 'text-gray-800' },
                { name: 'Resveratrol', tags: ['antioxidant'], color: 'bg-violet-100', textColor: 'text-violet-800' }
            ];

            const grid = document.getElementById('ingredient-grid');
            const filters = document.getElementById('ingredient-filters');

            function renderIngredients(filter = 'all') {
                grid.innerHTML = '';
                const filteredIngredients = filter === 'all' 
                    ? ingredients 
                    : ingredients.filter(ing => ing.tags.includes(filter));
                
                filteredIngredients.forEach(ing => {
                    const card = document.createElement('div');
                    // Added flex properties to stack name and tags
                    card.className = `ingredient-card p-4 rounded-lg text-left ${ing.color} shadow-sm hover:shadow-md transition duration-200 flex flex-col justify-between`;
                    
                    // Generate tags HTML
                    let tagsHtml = ing.tags.map(tag => {
                        // Determine tag styling based on property
                        let tagColor;
                        let tagBg;
                        if (tag === 'anti-inflammatory') {
                            tagColor = 'text-red-700';
                            tagBg = 'bg-red-200';
                        } else if (tag === 'antioxidant') {
                            tagColor = 'text-blue-700';
                            tagBg = 'bg-blue-200';
                        } else if (tag === 'moisturizing') {
                            tagColor = 'text-green-700';
                            tagBg = 'bg-green-200';
                        }
                        // Format tag name: capitalize first letter and replace hyphen with space
                        const formattedTag = tag.charAt(0).toUpperCase() + tag.slice(1).replace('-', ' ');
                        return `<span class="px-2 py-0.5 rounded-full text-xs font-medium ${tagBg} ${tagColor} whitespace-nowrap">${formattedTag}</span>`;
                    }).join('');

                    card.innerHTML = `
                        <div class="font-bold text-base text-brand-text mb-2">${ing.name}</div>
                        <div class="flex flex-wrap gap-1 mt-auto">
                            ${tagsHtml}
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }

            filters.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const filter = e.target.dataset.filter;
                    
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('bg-brand-green', 'text-white');
                        btn.classList.add('bg-slate-200', 'text-slate-700');
                    });
                    
                    e.target.classList.add('bg-brand-green', 'text-white');
                    e.target.classList.remove('bg-slate-200', 'text-slate-700');

                    renderIngredients(filter);
                }
            });

            renderIngredients();


            // --- Static Remedies Showcase Logic ---
            const showRemedyBtn = document.getElementById('show-remedy-btn');
            const issueSelector = document.getElementById('issueSelector');
            const remedyResults = document.getElementById('remedy-results');
            const errorElement = document.getElementById('error-message');
            const resultImage = document.getElementById('result-image');


            /*
                ===================================================================
                PLACEHOLDER IMAGE URLS: Stylized with icons and colors
                ===================================================================
            */
            const commonRemedies = {
                acne: {
                    issueDesc: "Characterized by inflammation, pimples, blackheads, and whiteheads due to clogged pores and excess oil. Requires antibacterial and anti-inflammatory action.",
                    remedyName: "Turmeric & Honey Clarifying Mask",
                    description: "A potent anti-inflammatory and antibacterial treatment that calms active breakouts, reduces redness, and promotes clear skin.",
                    keyIngredients: ["1 tsp Turmeric powder", "1 tbsp Raw Honey", "1/2 tsp Plain Yogurt (optional, for binding)"],
                    instructions: "Mix ingredients into a paste. Apply a thin layer to clean skin, focusing on troubled areas. Leave on for 10-15 minutes, then rinse thoroughly with cool water. Use 2-3 times per week.",
                    image: "https://placehold.co/600x400/FF5733/FFFFFF?text=%E2%9A%A0%EF%B8%8F+Turmeric+%26+Honey" // Red/Orange for inflammation/turmeric
                },
                dryness: {
                    issueDesc: "Symptoms include flaking, tightness, rough texture, and potential itching, often caused by a compromised skin barrier and lack of moisture/ols. Needs deep hydration and barrier repair.",
                    remedyName: "Avocado & Rosehip Deep Moisture Balm",
                    description: "A rich, emollient treatment packed with essential fatty acids and vitamins to replenish moisture, soothe dry patches, and strengthen the skin's barrier.",
                    keyIngredients: ["1/4 mashed ripe Avocado", "1 tsp Rosehip Oil", "1/2 tsp Aloe Vera gel"],
                    instructions: "Combine the mashed avocado, rosehip oil, and aloe vera gel. Apply a thick layer to dry areas like a mask. Leave on for 20 minutes, then gently wipe off the excess with a soft cloth. Use nightly until dryness subsides.",
                    image: "https://placehold.co/600x400/81B622/FFFFFF?text=%F0%9F%A5%91+Avocado+%26+Rosehip" // Green/Avocado for moisture
                },
                redness: {
                    issueDesc: "Involves persistent flushing, visible capillaries, and sensitivity, often triggered by irritation, weather, or underlying sensitivity conditions. Requires cooling and soothing ingredients.",
                    remedyName: "Cool Green Tea & Chamomile Compress",
                    description: "A gentle, anti-irritation compress utilizing the powerful antioxidants of green tea and the calming properties of chamomile to quickly reduce visible redness and soothe heat.",
                    keyIngredients: ["1 Green Tea Bag (brewed and cooled)", "1 Chamomile Tea Bag (brewed and cooled)", "Small, soft facial cloth"],
                    instructions: "Brew both tea bags and let the liquid cool completely (or chill in the fridge). Soak the facial cloth in the chilled liquid. Gently press and lay the compress over the red or irritated areas for 5-10 minutes. Do not rinse. Apply a simple moisturizer afterwards. Use daily.",
                    image: "https://placehold.co/600x400/98FB98/006400?text=%E2%9C%A8+Green+Tea+%26+Chamomile" // Light Green for calming
                },
                oily: {
                    issueDesc: "Characterized by a persistent shiny appearance, excess sebum production, and often accompanied by enlarged pores. Requires gentle astringency and balancing.",
                    remedyName: "Witch Hazel & Mint Astringent Toner",
                    description: "A refreshing toner that utilizes the natural astringency of witch hazel to tighten pores and reduce oiliness, while mint provides a cool, clarifying sensation.",
                    keyIngredients: ["1/4 cup Witch Hazel (liquid)", "1 tsp Fresh Mint Juice (or 5 drops peppermint essential oil, if available)", "1/2 tsp Lemon Juice (optional, for extra brightening)"],
                    instructions: "Mix ingredients in a clean spray bottle or container. After cleansing, apply to the face with a cotton pad, avoiding the eye area. Use once daily. Shake well before use. Store in the fridge for extra cooling.",
                    image: "https://placehold.co/600x400/1E90FF/FFFFFF?text=%F0%9F%8C%8A+Witch+Hazel+%26+Mint" // Blue for clarifying/water
                },
                darkspots: {
                    issueDesc: "Patches of darkened skin, including sun spots, age spots, and post-inflammatory hyperpigmentation (PIH) from acne. Requires gentle exfoliation and brightening.",
                    remedyName: "Potato & Lemon Brightening Spot Treatment",
                    description: "Uses the mild bleaching power of lemon and the catecholase enzyme in potatoes to gently fade dark spots and even out skin tone over time.",
                    keyIngredients: ["1 tbsp Grated Potato (raw)", "1/4 tsp Lemon Juice", "Pinch of Turmeric (optional, for anti-inflammatory boost)"],
                    instructions: "Combine ingredients into a paste. Apply directly onto the dark spots using a cotton swab. Leave on for 10 minutes maximum (do not exceed, especially with lemon). Rinse thoroughly. Use only at night as lemon makes skin sun-sensitive.",
                    image: "https://placehold.co/600x400/FFD700/800080?text=%E2%9C%A8+Potato+%26+Lemon" // Gold/Purple for brightening/vitamin C
                },
                lines: {
                    issueDesc: "Fine lines, wrinkles, and loss of skin elasticity/firmness, primarily related to reduced collagen and environmental damage. Needs antioxidant protection and hydration.",
                    remedyName: "Flaxseed & Banana Firming Mask",
                    description: "A deeply hydrating and antioxidant-rich mask. Flaxseeds provide omega-3s, and banana offers vitamins to plump the skin and reduce the appearance of fine lines.",
                    keyIngredients: ["1 tbsp Ground Flaxseed", "1/4 Mashed Ripe Banana", "2 tbsp Hot Water"],
                    instructions: "Mix flaxseed and hot water; let sit for 5 minutes until gel forms. Stir in mashed banana. Apply a thick layer to the face and neck. Relax for 15-20 minutes, then rinse gently with lukewarm water. Use 2-3 times per week.",
                    image: "https://placehold.co/600x400/F0E68C/808000?text=%F0%9F%8D%8C+Flaxseed+%26+Banana" // Yellow/Brown for banana/flax
                },
                eczema: {
                    issueDesc: "Extremely dry, scaly, and intensely itchy patches of skin (dermatitis). The skin barrier is severely compromised. Needs intense calming, moisture, and protection.",
                    remedyName: "Colloidal Oatmeal & Coconut Oil Compress",
                    description: "An ancient remedy using the powerful anti-itch and anti-inflammatory properties of oatmeal combined with the barrier-repairing moisture of coconut oil.",
                    keyIngredients: ["1 cup Colloidal Oatmeal (finely ground)", "2 tbsp Coconut Oil (melted)", "Warm Bath Water"],
                    instructions: "Pour the oatmeal and melted coconut oil into a warm bath. Soak in the tub for 15-20 minutes, allowing the soothing mixture to coat the skin. Gently pat skin dry afterwards, leaving a light film of oil on the skin for maximum relief. Can be used daily during flare-ups.",
                    image: "https://placehold.co/600x400/CD853F/FFFFFF?text=%F0%9F%8D%BF+Oatmeal+%26+Coconut+Oil" // Tan/Brown for oats
                },
                sunburn: {
                    issueDesc: "Acute redness, pain, and heat resulting from overexposure to UV radiation. The skin is actively damaged and inflamed. Requires immediate cooling and repair.",
                    remedyName: "Aloe Vera & Cucumber Cooling Gel",
                    description: "A highly effective, cooling, and hydrating gel that provides immediate relief from the pain and heat of a sunburn while delivering reparative compounds to the skin.",
                    keyIngredients: ["2 tbsp Pure Aloe Vera Gel", "1/4 Shredded or Blended Cucumber", "Optional: 5 drops of Chamomile tea liquid (cooled)"],
                    instructions: "Mix the Aloe Vera gel and shredded cucumber (straining any excess liquid). Apply a thick, cool layer over the sunburnt area. Leave on for 30 minutes before gently wiping off any residue. Reapply every 2-3 hours as needed for continued relief.",
                    image: "https://placehold.co/600x400/00FF7F/000000?text=%F0%9F%8C%B1+Aloe+%26+Cucumber+Cooling" // Bright Green for cooling
                }
            };
            
            function showStaticRemedy() {
                errorElement.classList.add('hidden');
                
                const selectedIssue = issueSelector.value;
                if (selectedIssue === 'select') {
                    errorElement.textContent = "Please select a common issue from the list above.";
                    errorElement.classList.remove('hidden');
                    remedyResults.classList.add('hidden');
                    return;
                }
                
                const remedy = commonRemedies[selectedIssue];
                
                // Update the DOM with results
                document.getElementById('result-name').textContent = remedy.remedyName;
                document.getElementById('result-issue-description').textContent = remedy.issueDesc; 
                document.getElementById('result-description').textContent = remedy.description;

                // --- IMAGE LOGIC: Set source and include an error handler ---
                resultImage.src = remedy.image;
                resultImage.alt = `Visual representation of ${remedy.remedyName}`;
                // Optional: reset image appearance if it was previously in an error state
                resultImage.style.filter = '';
                resultImage.style.backgroundColor = '';
                resultImage.style.padding = '';
                resultImage.style.textAlign = '';

                resultImage.onerror = function() {
                    // Fallback visual/text if the image URL fails to load
                    this.src = "https://placehold.co/600x400/EEEEEE/888888?text=Visual+Failed+to+Load";
                    this.alt = "Error loading visual aid. Check image URL.";
                    this.style.filter = "grayscale(100%)";
                    this.style.backgroundColor = '#fef2f2';
                    this.style.padding = '1rem';
                    this.style.textAlign = 'center';
                };
                // --- END IMAGE LOGIC ---


                const ingredientsList = document.getElementById('result-ingredients');
                ingredientsList.innerHTML = '';
                remedy.keyIngredients.forEach(ing => {
                    const li = document.createElement('li');
                    li.textContent = ing;
                    ingredientsList.appendChild(li);
                });
                
                document.getElementById('result-instructions').textContent = remedy.instructions;

                remedyResults.classList.remove('hidden');
            }

            showRemedyBtn.addEventListener('click', showStaticRemedy);

            // --- Scroll-Reveal Animation Logic (fade-in-up) ---
            const sections = document.querySelectorAll('section');

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1 // Triggers when 10% of the element is visible
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Stop observing once visible
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                // Skip the Hero section as it should be visible immediately
                if (section.id !== 'hero-section') {
                    section.classList.add('fade-in-up');
                    observer.observe(section);
                }
            });

        });
    </script>
</body>
</html>
